!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(e){"use strict";var t,o={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},r=(t=0,function(){var e=t;return t+=1,".perfect-scrollbar-"+e});e.fn.perfectScrollbar=function(t,n){return this.each(function(){var l=e.extend(!0,{},o),s=e(this);if("object"==typeof t?e.extend(!0,l,t):n=t,"update"===n)return s.data("perfect-scrollbar-update")&&s.data("perfect-scrollbar-update")(),s;if("destroy"===n)return s.data("perfect-scrollbar-destroy")&&s.data("perfect-scrollbar-destroy")(),s;if(s.data("perfect-scrollbar"))return s.data("perfect-scrollbar");s.addClass("ps-container");var a,c,i,d,p,u,f,h,b,v,g,m,w,T,L,y,I,S,x,C,P,D,X=e("<div class='ps-scrollbar-x-rail'></div>").appendTo(s),Y=e("<div class='ps-scrollbar-y-rail'></div>").appendTo(s),k=e("<div class='ps-scrollbar-x'></div>").appendTo(X),M=e("<div class='ps-scrollbar-y'></div>").appendTo(Y),W=parseInt(X.css("bottom"),10),j=W==W,E=j?null:parseInt(X.css("top"),10),O=parseInt(Y.css("right"),10),q=O==O,A=q?null:parseInt(Y.css("left"),10),B="rtl"===s.css("direction"),F=r(),H=parseInt(X.css("borderLeftWidth"),10)+parseInt(X.css("borderRightWidth"),10),K=parseInt(X.css("borderTopWidth"),10)+parseInt(X.css("borderBottomWidth"),10),z=function(e){return l.minScrollbarLength&&(e=Math.max(e,l.minScrollbarLength)),l.maxScrollbarLength&&(e=Math.min(e,l.maxScrollbarLength)),e},Q=function(){var e={width:i,display:a?"inherit":"none"};e.left=B?s.scrollLeft()+i-p:s.scrollLeft(),j?e.bottom=W-s.scrollTop():e.top=E+s.scrollTop(),X.css(e);var t={top:s.scrollTop(),height:d,display:c?"inherit":"none"};q?t.right=B?p-s.scrollLeft()-O-M.outerWidth():O-s.scrollLeft():t.left=B?s.scrollLeft()+2*i-p-A-M.outerWidth():A+s.scrollLeft(),Y.css(t),k.css({left:h,width:f-H}),M.css({top:v,height:b-K}),a?s.addClass("ps-active-x"):s.removeClass("ps-active-x"),c?s.addClass("ps-active-y"):s.removeClass("ps-active-y")},R=function(){i=l.includePadding?s.innerWidth():s.width(),d=l.includePadding?s.innerHeight():s.height(),p=s.prop("scrollWidth"),u=s.prop("scrollHeight"),!l.suppressScrollX&&i+l.scrollXMarginOffset<p?(a=!0,f=z(parseInt(i*i/p,10)),h=parseInt(s.scrollLeft()*(i-f)/(p-i),10)):(a=!1,f=0,h=0,s.scrollLeft(0)),!l.suppressScrollY&&d+l.scrollYMarginOffset<u?(c=!0,b=z(parseInt(d*d/u,10)),v=parseInt(s.scrollTop()*(d-b)/(u-d),10)):(c=!1,b=0,v=0,s.scrollTop(0)),v>=d-b&&(v=d-b),h>=i-f&&(h=i-f),Q()},G=function(){var t,o;k.bind("mousedown"+F,function(e){o=e.pageX,t=k.position().left,X.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove"+F,function(e){X.hasClass("in-scrolling")&&(!function(e,t){var o=e+t,r=i-f;h=o<0?0:o>r?r:o;var n=parseInt(h*(p-i)/(i-f),10);s.scrollLeft(n),q?Y.css({right:O-n}):Y.css({left:A+n})}(t,e.pageX-o),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup"+F,function(e){X.hasClass("in-scrolling")&&X.removeClass("in-scrolling")}),t=o=null},J=function(){var t,o;M.bind("mousedown"+F,function(e){o=e.pageY,t=M.position().top,Y.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove"+F,function(e){Y.hasClass("in-scrolling")&&(!function(e,t){var o=e+t,r=d-b;v=o<0?0:o>r?r:o;var n=parseInt(v*(u-d)/(d-b),10);s.scrollTop(n),j?X.css({bottom:W-n}):X.css({top:E+n})}(t,e.pageY-o),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup"+F,function(e){Y.hasClass("in-scrolling")&&Y.removeClass("in-scrolling")}),t=o=null},N=function(e,t){var o=s.scrollTop();if(0===e){if(!c)return!1;if(0===o&&t>0||o>=u-d&&t<0)return!l.wheelPropagation}var r=s.scrollLeft();if(0===t){if(!a)return!1;if(0===r&&e<0||r>=p-i&&e>0)return!l.wheelPropagation}return!0},U=function(){s.unbind(F),e(window).unbind(F),e(document).unbind(F),s.data("perfect-scrollbar",null),s.data("perfect-scrollbar-update",null),s.data("perfect-scrollbar-destroy",null),k.remove(),M.remove(),X.remove(),Y.remove(),X=Y=k=M=a=c=i=d=p=u=f=h=W=j=E=b=v=O=q=A=B=F=null},V="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch;return(S=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/))&&"msie"===S[1]&&(C=parseInt(S[2],10),s.addClass("ie").addClass("ie"+C),6===C&&(P=function(){e(this).addClass("hover")},D=function(){e(this).removeClass("hover")},s.bind("mouseenter"+F,P).bind("mouseleave"+F,D),X.bind("mouseenter"+F,P).bind("mouseleave"+F,D),Y.bind("mouseenter"+F,P).bind("mouseleave"+F,D),k.bind("mouseenter"+F,P).bind("mouseleave"+F,D),M.bind("mouseenter"+F,P).bind("mouseleave"+F,D),Q=function(){var e={left:h+s.scrollLeft(),width:f};j?e.bottom=W:e.top=E,k.css(e);var t={top:v+s.scrollTop(),height:b};q?t.right=O:t.left=A,M.css(t),k.hide().show(),M.hide().show()})),R(),s.bind("scroll"+F,function(e){R()}),G(),J(),g=function(e){e.stopPropagation()},M.bind("click"+F,g),Y.bind("click"+F,function(e){var t=parseInt(b/2,10),o=(e.pageY-Y.offset().top-t)/(d-b);o<0?o=0:o>1&&(o=1),s.scrollTop((u-d)*o)}),k.bind("click"+F,g),X.bind("click"+F,function(e){var t=parseInt(f/2,10),o=(e.pageX-X.offset().left-t)/(i-f);o<0?o=0:o>1&&(o=1),s.scrollLeft((p-i)*o)}),V&&(m=function(e,t){s.scrollTop(s.scrollTop()-t),s.scrollLeft(s.scrollLeft()-e),R()},w={},T=0,L={},y=null,I=!1,e(window).bind("touchstart"+F,function(e){I=!0}),e(window).bind("touchend"+F,function(e){I=!1}),s.bind("touchstart"+F,function(e){var t=e.originalEvent.targetTouches[0];w.pageX=t.pageX,w.pageY=t.pageY,T=(new Date).getTime(),null!==y&&clearInterval(y),e.stopPropagation()}),s.bind("touchmove"+F,function(e){if(!I&&1===e.originalEvent.targetTouches.length){var t=e.originalEvent.targetTouches[0],o={};o.pageX=t.pageX,o.pageY=t.pageY;var r=o.pageX-w.pageX,n=o.pageY-w.pageY;m(r,n),w=o;var l=(new Date).getTime(),s=l-T;s>0&&(L.x=r/s,L.y=n/s,T=l),e.preventDefault()}}),s.bind("touchend"+F,function(e){clearInterval(y),y=setInterval(function(){Math.abs(L.x)<.01&&Math.abs(L.y)<.01?clearInterval(y):(m(30*L.x,30*L.y),L.x*=.8,L.y*=.8)},10)})),s.mousewheel&&function(){l.wheelSpeed/=10;var e=!1;s.bind("mousewheel"+F,function(t,o,r,n){var i=t.deltaX*t.deltaFactor||r,d=t.deltaY*t.deltaFactor||n;e=!1,l.useBothWheelAxes?c&&!a?(d?s.scrollTop(s.scrollTop()-d*l.wheelSpeed):s.scrollTop(s.scrollTop()+i*l.wheelSpeed),e=!0):a&&!c&&(i?s.scrollLeft(s.scrollLeft()+i*l.wheelSpeed):s.scrollLeft(s.scrollLeft()-d*l.wheelSpeed),e=!0):(s.scrollTop(s.scrollTop()-d*l.wheelSpeed),s.scrollLeft(s.scrollLeft()+i*l.wheelSpeed)),R(),(e=e||N(i,d))&&(t.stopPropagation(),t.preventDefault())}),s.bind("MozMousePixelScroll"+F,function(t){e&&t.preventDefault()})}(),l.useKeyboard&&(x=!1,s.bind("mouseenter"+F,function(e){x=!0}),s.bind("mouseleave"+F,function(e){x=!1}),e(document).bind("keydown"+F,function(t){if((!t.isDefaultPrevented||!t.isDefaultPrevented())&&x&&!e(document.activeElement).is(":input,[contenteditable]")){var o=0,r=0;switch(t.which){case 37:o=-30;break;case 38:r=30;break;case 39:o=30;break;case 40:r=-30;break;case 33:r=90;break;case 32:case 34:r=-90;break;case 35:r=-d;break;case 36:r=d;break;default:return}s.scrollTop(s.scrollTop()-r),s.scrollLeft(s.scrollLeft()+o),N(o,r)&&t.preventDefault()}})),s.data("perfect-scrollbar",s),s.data("perfect-scrollbar-update",R),s.data("perfect-scrollbar-destroy",U),s})}});